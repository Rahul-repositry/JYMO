import React, { useEffect, useState } from "react";
import { Link, useLocation, useNavigate } from "react-router-dom";

import Logo from "../../../../images/Logo.svg";

import { getObjectFromLocalStorage } from "../../../../utils/helperFunc";
import arrow from "../../../../images/arrow.svg";
const Navbar = () => {
  const navigate = useNavigate();
  const location = useLocation();

  const [showAdminNavbar, setShowAdminNavbar] = useState(false);
  const [jymDetails, setJymDetails] = useState(false);
  const handleBackClick = () => {
    navigate(-1);
  };

  useEffect(() => {
    if (location.pathname.includes("admin")) {
      setShowAdminNavbar(true);
      const jym = getObjectFromLocalStorage("adminJym") || "";
      setJymDetails(jym);
    } else {
      setShowAdminNavbar(false);
      setJymDetails(false);
    }
  }, [location.pathname]);

  return (
    <div className="mobileNavbar relative  z-50 border-b border-gray-200">
      <div className="navbarWrapper py-3 px-1 flex justify-between">
        <div className="wrap flex">
          <div className="cont flex items-center  ">
            <div
              className="backarrow cursor-pointer  "
              onClick={handleBackClick}
            >
              <img src={arrow} alt="arrow" />
            </div>
            {!showAdminNavbar && (
              <div className="logo">
                <svg
                  width="68"
                  height="20"
                  viewBox="0 0 68 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M67.8433 9.09483C67.8427 10.7019 67.9057 12.222 67.8277 13.7333C67.6842 16.5155 65.668 19.2457 62.8075 19.6567C61.0418 19.9103 59.2767 20.0633 57.5497 19.4607C55.3496 18.693 53.8179 17.1833 53.3966 14.5742C52.9765 11.9727 53.0729 9.31266 53.2725 6.71824C53.5202 3.49901 55.4567 1.35216 58.545 0.72344C60.7685 0.270774 62.9348 0.466539 64.93 1.67455C66.7459 2.77398 67.7496 4.51336 67.8368 6.82086C67.8642 7.54738 67.8425 8.27613 67.8433 9.09483Z"
                    fill="#090A0A"
                  />
                  <path
                    d="M16.1014 5.51406C15.4656 4.31615 14.8626 3.17696 14.2661 2.03373C13.9979 1.51976 14.0973 0.960499 14.6226 0.949879C16.0438 0.921152 17.4753 0.728068 18.8941 1.05512C19.1841 1.12197 19.3291 1.24815 19.5078 1.52384C20.5526 3.13657 21.2376 4.96697 22.227 6.67066C22.7442 6.24336 22.9562 5.53623 23.2766 4.92906C23.8511 3.84035 24.361 2.71375 24.9874 1.65331C25.3119 1.10381 25.7216 0.915643 26.2543 0.91001C27.3067 0.89888 28.3594 0.892944 29.4116 0.909844C30.2647 0.923548 30.5154 1.32506 30.0947 2.15296C29.0187 4.27043 27.8907 6.35628 26.7767 8.45044C26.1302 9.66581 25.4711 10.8732 24.8164 12.0833C24.6437 12.4025 24.611 12.7456 24.613 13.1119C24.6227 14.9015 24.5857 16.6922 24.6334 18.4804C24.6492 19.0693 24.4011 19.3488 23.9841 19.438C22.8027 19.6907 21.6057 19.6923 20.4245 19.4358C20.0035 19.3443 19.7661 19.0555 19.7822 18.4724C19.83 16.745 19.7739 15.0143 19.8126 13.2863C19.826 12.6853 19.6721 12.172 19.4121 11.6876C18.3584 9.72383 17.286 7.77203 16.2227 5.81441C16.1827 5.74074 16.165 5.65255 16.1014 5.51406Z"
                    fill="#090A0A"
                  />
                  <path
                    d="M7.83164 10.9198C7.92938 8.02876 8.04483 5.22969 8.00509 2.42533C7.98813 1.22871 8.28835 1.09169 9.30902 0.866161C10.149 0.680565 10.9218 0.919352 11.7216 0.892833C12.5098 0.8667 12.8073 1.32511 12.8055 2.05973C12.799 4.80626 13.1982 7.5573 12.9382 10.2882C12.7878 11.8677 12.9616 13.4497 12.6661 15.0252C12.1746 17.6456 10.2277 19.6726 7.75079 19.8176C6.17463 19.9099 4.59218 19.9609 3.0582 19.3073C1.70951 18.7327 0.0195759 16.4163 0.00020475 15.0211C-0.0078369 14.442 0.221118 14.1222 0.666335 13.9365C1.46401 13.604 2.25575 13.243 3.07367 12.9835C3.7503 12.7689 4.37948 12.8726 4.68322 13.7366C4.81308 14.106 5.06527 14.3863 5.32363 14.6591C5.81008 15.1728 6.38406 15.2356 6.98707 15.0233C7.62257 14.7996 7.79338 14.1914 7.82208 13.5584C7.8605 12.7111 7.83144 11.8601 7.83164 10.9198Z"
                    fill="#090A0A"
                  />
                  <path
                    d="M41.2561 17.9329C40.1432 15.6253 39.0743 13.3624 38.0061 11.0993C37.6832 10.4152 37.3111 9.74278 37.0575 9.04172C36.8675 8.51613 37.3179 8.04104 37.5105 7.56612C38.1981 5.8705 38.9877 4.2026 39.7405 2.52474C39.8854 2.20184 40.038 1.88126 40.3623 1.6084C42.6354 5.67682 44.8907 9.7264 47.1611 13.7703C48.038 15.3321 48.9428 16.8834 49.849 18.434C50.0852 18.8382 50.1421 19.054 49.4201 19.0453C47.096 19.0173 44.7704 19.0061 42.4471 19.0482C41.4435 19.0664 41.5846 18.4011 41.2561 17.9329Z"
                    fill="#EA5F3F"
                  />
                  <path
                    d="M34.6806 8.31005C35.4909 9.82446 36.1305 11.335 36.808 12.8337C37.6619 14.7227 38.5024 16.6164 39.4116 18.4875C39.6446 18.9668 39.5557 19.0443 38.977 19.042C35.6989 19.0293 32.4206 19.0263 29.1426 19.0442C28.5135 19.0477 28.4895 18.8615 28.666 18.4518C29.6705 16.1191 30.6494 13.7791 31.6511 11.4456C32.325 9.87558 33.0223 8.31222 33.7454 6.66309C34.2707 7.17904 34.3922 7.74946 34.6806 8.31005Z"
                    fill="#EA5F3F"
                  />
                  <path
                    d="M58.2846 12.7249C58.1184 11.2682 58.2014 9.91448 58.2014 9.91448L58.2014 7.54747C58.2014 7.54747 58.1321 6.13798 58.7833 5.7267C59.4346 5.31541 61.8614 5.27855 62.4296 5.79711C62.9288 6.25274 63.057 6.89516 63.0632 7.55895C63.0792 9.28078 63.0811 11.003 63.0655 12.7249C63.0546 13.9373 62.1179 14.9352 61.0025 14.968C59.2695 15.019 58.534 14.2843 58.2846 12.7249Z"
                    fill="white"
                  />
                </svg>
              </div>
            )}
            {jymDetails && (
              <div className="details">
                <p className="font-medium text-xl">
                  JUID : {jymDetails.jymUniqueId}
                </p>
                <p className="text-xs w-[150px] whitespace-nowrap overflow-hidden text-ellipsis">
                  {jymDetails.name}
                </p>
              </div>
            )}
          </div>
        </div>

        <div className="jymLogo flex place-content-center pr-4">
          {showAdminNavbar ? (
            <Link to="/home">
              <img src={Logo} alt="jymo" className="w-[40px]" />
            </Link>
          ) : (
            <img src={Logo} alt="jymo" className="w-[40px]" />
          )}

          <div
            className="rounded-full ml-3 flex place-content-center items-center border bg-gray-100 border-slate-500 w-8 cursor-pointer"
            onClick={() => window.location.reload()}
          >
            <svg
              fill="#000000"
              height="20px"
              width="20px"
              version="1.1"
              id="Capa_1"
              viewBox="0 0 489.711 489.711"
              stroke="#858585"
            >
              <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
              <g
                id="SVGRepo_tracerCarrier"
                strokeLnecap="round"
                strokeLinejoin="round"
              ></g>
              <g id="SVGRepo_iconCarrier">
                <g>
                  <g>
                    <path d="M112.156,97.111c72.3-65.4,180.5-66.4,253.8-6.7l-58.1,2.2c-7.5,0.3-13.3,6.5-13,14c0.3,7.3,6.3,13,13.5,13 c0.2,0,0.3,0,0.5,0l89.2-3.3c7.3-0.3,13-6.2,13-13.5v-1c0-0.2,0-0.3,0-0.5v-0.1l0,0l-3.3-88.2c-0.3-7.5-6.6-13.3-14-13 c-7.5,0.3-13.3,6.5-13,14l2.1,55.3c-36.3-29.7-81-46.9-128.8-49.3c-59.2-3-116.1,17.3-160,57.1c-60.4,54.7-86,137.9-66.8,217.1 c1.5,6.2,7,10.3,13.1,10.3c1.1,0,2.1-0.1,3.2-0.4c7.2-1.8,11.7-9.1,9.9-16.3C36.656,218.211,59.056,145.111,112.156,97.111z"></path>{" "}
                    <path d="M462.456,195.511c-1.8-7.2-9.1-11.7-16.3-9.9c-7.2,1.8-11.7,9.1-9.9,16.3c16.9,69.6-5.6,142.7-58.7,190.7 c-37.3,33.7-84.1,50.3-130.7,50.3c-44.5,0-88.9-15.1-124.7-44.9l58.8-5.3c7.4-0.7,12.9-7.2,12.2-14.7s-7.2-12.9-14.7-12.2l-88.9,8 c-7.4,0.7-12.9,7.2-12.2,14.7l8,88.9c0.6,7,6.5,12.3,13.4,12.3c0.4,0,0.8,0,1.2-0.1c7.4-0.7,12.9-7.2,12.2-14.7l-4.8-54.1 c36.3,29.4,80.8,46.5,128.3,48.9c3.8,0.2,7.6,0.3,11.3,0.3c55.1,0,107.5-20.2,148.7-57.4 C456.056,357.911,481.656,274.811,462.456,195.511z"></path>{" "}
                  </g>{" "}
                </g>{" "}
              </g>
            </svg>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Navbar;
